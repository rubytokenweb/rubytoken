<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/jpg" href="rd.jpg" />
  <title>RUBY Airdrop</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Ethers.js -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.11.1/dist/ethers.umd.min.js"></script>

  <style>
    body {
      background: linear-gradient(270deg, #ff416c, #ff4b2b, #ff6b6b, #fddb92, #24c6dc);
      background-size: 1200% 1200%;
      animation: gradientShift 18s ease infinite;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .glass {
      backdrop-filter: blur(14px);
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.25);
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
    }

    .glow:hover {
      box-shadow: 0 0 20px rgba(255,255,255,0.6);
      transform: scale(1.05);
    }

    .fade-in {
      animation: fadeIn 1.4s ease forwards;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center text-white font-sans">
  <div class="glass p-8 rounded-3xl max-w-md w-full text-center fade-in">

    <h1 class="text-3xl font-bold mb-2">üéÅ RUBY Airdrop Claim</h1>
    <p class="text-gray-200 mb-6">Claim your free <span class="font-semibold text-yellow-300">RUBY</span> tokens now!</p>

    <!-- Wallet buttons -->
    <div class="flex flex-wrap justify-center gap-4 mb-6">
      <button id="connectBtn" class="bg-red-500 glow hover:bg-red-600 text-white px-5 py-2 rounded-xl font-semibold flex items-center gap-2">
        <img src="metamask.png" class="w-6 h-6" />
        Connect Wallet
      </button>
      <button id="claimBtn" class="bg-green-500 glow hover:bg-green-600 text-white px-5 py-2 rounded-xl font-semibold flex items-center gap-2" disabled>
        <img src="https://cdn-icons-png.flaticon.com/512/833/833472.png" class="w-5 h-5" />
        Claim Tokens
      </button>
    </div>

    <p id="status" class="text-sm text-white min-h-[1.5em]"></p>

    <div class="mt-6 border-t border-white/30 pt-4 text-xs text-gray-200">
      <div class="flex justify-center gap-3 opacity-80 mb-2">
        <img src="trustwallet.png" class="w-5 h-5" />
        <img src="metamask.png" class="w-5 h-5" />
        <img src="binance.png" class="w-5 h-5" />
       </div>
      <p>Supports MetaMask ¬∑ Trust Wallet ¬∑ Binance</p>
      <p class="mt-2">¬© 2025 RUBY Token</p>
    </div>
  </div>

  <script>
    let provider, signer, userAddress;
    const contractAddress = ""; // üî¥ Fill your contract address here later
    const abi = [
      "function claimAirdrop() external",
      "function claimed(address user) view returns (bool)"
    ];

    const connectBtn = document.getElementById("connectBtn");
    const claimBtn = document.getElementById("claimBtn");
    const status = document.getElementById("status");

    // ‚úÖ Connect Wallet
    connectBtn.addEventListener("click", async () => {
      try {
        if (!window.ethereum) throw new Error("MetaMask or compatible wallet not found!");
        await window.ethereum.request({ method: 'eth_requestAccounts' });

        provider = new ethers.BrowserProvider(window.ethereum);
        signer = await provider.getSigner();
        userAddress = (await signer.getAddress()).toLowerCase();

        status.textContent = "‚úÖ Connected: " + userAddress.slice(0,6) + "..." + userAddress.slice(-4);
        claimBtn.disabled = false;
      } catch(err) {
        status.textContent = "‚ùå " + err.message;
      }
    });

    // ‚úÖ Claim Airdrop
    claimBtn.addEventListener("click", async () => {
      try {
        if (!contractAddress) {
          status.textContent = "‚ö†Ô∏è Contract address not set yet!";
          return;
        }

        const contract = new ethers.Contract(contractAddress, abi, signer);
        const alreadyClaimed = await contract.claimed(userAddress);

        if (alreadyClaimed) {
          status.textContent = "üö´ You have already claimed your airdrop!";
          return;
        }

        status.textContent = "‚è≥ Processing transaction...";
        const tx = await contract.claimAirdrop();
        await tx.wait();

        status.textContent = "‚úÖ Successfully claimed RUBY tokens!";
      } catch(err) {
        status.textContent = "‚ùå " + err.message;
      }
    });
  </script>
</body>
</html>